{"version":3,"sources":["../package.json","../src/utils/highlighter.ts","../src/utils/logger.ts","../src/commands/build.ts","../src/utils/frameworks.ts","../src/utils/resolve-import.ts","../src/registry/constants.ts","../src/utils/get-config.ts","../src/utils/get-package-info.ts","../src/utils/get-project-info.ts","../src/utils/spinner.ts","../src/preflights/preflight-init.ts","../src/registry/fetcher.ts","../src/registry/api.ts","../src/utils/get-package-manager.ts","../src/templates/create-vite-project.ts","../src/utils/create-project.ts","../src/utils/env-loader.ts","../src/commands/init.ts","../src/index.ts"],"names":["package_default","highlighter","red","yellow","cyan","green","logger","args","z","build","Command","registryFile","opts","cwd","path","outputDir","registryPath","registryContent","fs","registry","registrySchema","index","item","error","err","FRAMEWORKS","resolveImport","importPath","config","createMatchPath","REGISTRY_URL","BUILTIN_REGISTRIES","explorer","cosmiconfig","getConfig","getRawConfig","resolveConfigPaths","tsConfig","loadConfig","configSchema","configResult","rawConfigSchema","registryName","configPath","getPackageInfo","shouldThrow","packageJsonPath","PROJECT_SHARED_IGNORE","getProjectInfo","configFiles","isSrcDir","isTsx","tailwindConfigFile","tailwindCssFile","tailwindVersion","aliasPrefix","packageJson","fg","isTypeScriptProject","getTailwindConfigFile","getTailwindCssFile","getTailwindVersion","getTsConfigAliasPrefix","isUsingAppDir","type","file","packageInfo","files","contents","alias","paths","getProjectConfig","defaultProjectInfo","existingConfig","projectInfo","spinner","text","options","ora","preflightInit","errors","projectSpinner","frameworkSpinner","fetchRegistry","getRegistryStyles","result","stylesSchema","getRegistryThemes","getPackageManager","targetDir","withFallback","packageManager","detect","userAgent","GITHUB_TEMPLATE_URL","createViteProject","projectPath","createSpinner","templatePath","os","response","tarPath","execa","extractedPath","lockFilePath","packageJsonContent","createProject","template","projectName","name","prompts","value","loadEnvFiles","envFiles","envFile","envPath","join","existsSync","code","filePath","initOptionsSchema","init","runInit","preflight","projectConfig","promptForMinimalConfig","promptForConfig","proceed","defaultConfig","styles","themes","style","theme","cssVariables","main","program"],"mappings":"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","file":"index.js","sourcesContent":["{\r\n  \"name\": \"uidesu\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Add components to your apps.\",\r\n  \"publishConfig\": {\r\n    \"access\": \"public\"\r\n  },\r\n  \"license\": \"MIT\",\r\n  \"author\": {\r\n    \"name\": \"sergiocortes-dll\",\r\n    \"url\": \"https://x.com/sergiocortes-dll\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/aodesu-org/uidesu\",\r\n    \"directory\": \"packages/uidesu\"\r\n  },\r\n  \"files\": [\r\n    \"dist\"\r\n  ],\r\n  \"keywords\": [\r\n    \"components\",\r\n    \"ui\",\r\n    \"tailwind\",\r\n    \"radix-ui\",\r\n    \"uidesu\"\r\n  ],\r\n  \"type\": \"module\",\r\n  \"exports\": {\r\n    \".\": {\r\n      \"types\": \"./dist/index.d.ts\",\r\n      \"default\": \"./dist/index.js\"\r\n    },\r\n    \"./schema\": {\r\n      \"types\": \"./dist/schema/index.d.ts\",\r\n      \"default\": \"./dist/schema/index.js\"\r\n    },\r\n    \"./utils\": {\r\n      \"types\": \"./dist/utils/index.d.ts\",\r\n      \"default\": \"./dist/utils/index.js\"\r\n    },\r\n    \"./tailwind.css\": {\r\n      \"style\": \"./dist/tailwind.css\"\r\n    }\r\n  },\r\n  \"bin\": \"./dist/index.js\",\r\n  \"scripts\": {\r\n    \"dev\": \"tsup --watch\",\r\n    \"start:dev\": \"cross-env REGISTRY_URL=http://localhost:4000/r node dist/index.js\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@antfu/ni\": \"^25.0.0\",\r\n    \"@babel/core\": \"^7.28.0\",\r\n    \"@babel/parser\": \"^7.28.0\",\r\n    \"@babel/plugin-transform-typescript\": \"^7.28.0\",\r\n    \"@babel/preset-typescript\": \"^7.27.1\",\r\n    \"@dotenvx/dotenvx\": \"^1.48.4\",\r\n    \"commander\": \"^14.0.0\",\r\n    \"cosmiconfig\": \"^9.0.0\",\r\n    \"deepmerge\": \"^4.3.1\",\r\n    \"execa\": \"^9.6.0\",\r\n    \"fast-glob\": \"^3.3.3\",\r\n    \"fs-extra\": \"^11.3.1\",\r\n    \"https-proxy-agent\": \"^7.0.6\",\r\n    \"kleur\": \"^4.1.5\",\r\n    \"node-fetch\": \"^3.3.2\",\r\n    \"ora\": \"^8.2.0\",\r\n    \"postcss\": \"^8.5.6\",\r\n    \"prompts\": \"^2.4.2\",\r\n    \"recast\": \"^0.23.11\",\r\n    \"stringify-object\": \"^5.0.0\",\r\n    \"ts-morph\": \"^26.0.0\",\r\n    \"tsconfig-paths\": \"^4.2.0\",\r\n    \"zod\": \"^3.24.1\",\r\n    \"zod-to-json-schema\": \"3.24.6\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/babel__core\": \"^7.20.5\",\r\n    \"@types/fs-extra\": \"^11.0.4\",\r\n    \"@types/prompts\": \"^2.4.9\",\r\n    \"@types/stringify-object\": \"^4.0.5\",\r\n    \"rimraf\": \"^6.0.1\",\r\n    \"tsup\": \"^8.5.0\",\r\n    \"type-fest\": \"^4.41.0\",\r\n    \"typescript\": \"^5.9.2\"\r\n  }\r\n}\r\n","import { cyan, green, red, yellow } from \"kleur/colors\"\r\n\r\nexport const highlighter = {\r\n  error: red,\r\n  warn: yellow,\r\n  info: cyan,\r\n  success: green,\r\n}\r\n","import { highlighter } from \"@/src/utils/highlighter\"\r\n\r\nexport const logger = {\r\n  error(...args: unknown[]) {\r\n    console.log(highlighter.error(args.join(\" \")))\r\n  },\r\n  warn(...args: unknown[]) {\r\n    console.log(highlighter.warn(args.join(\" \")))\r\n  },\r\n  info(...args: unknown[]) {\r\n    console.log(highlighter.info(args.join(\" \")))\r\n  },\r\n  success(...args: unknown[]) {\r\n    console.log(highlighter.success(args.join(\" \")))\r\n  },\r\n  log(...args: unknown[]) {\r\n    console.log(args.join(\" \"))\r\n  },\r\n  break() {\r\n    console.log(\"\")\r\n  },\r\n}\r\n","import { Command } from \"commander\";\r\nimport { promises as fs } from \"fs\";\r\nimport path from \"path\";\r\nimport z from \"zod\";\r\nimport { registrySchema } from \"../registry/schema\";\r\nimport { logger } from \"../utils/logger\";\r\n\r\nexport const buildOptionsSchema = z.object({\r\n  cwd: z.string(),\r\n  registryFile: z.string(),\r\n  outputDir: z.string(),\r\n});\r\n\r\nexport const build = new Command()\r\n  .name(\"build\")\r\n  .description(\"build components for a aodesu registry\")\r\n  .argument(\"[registry]\", \"path to registry.json file\", \"./registry.json\")\r\n  .option(\r\n    \"-o, --output <path>\",\r\n    \"destination directory for json files\",\r\n    \"./public/r\"\r\n  )\r\n  .option(\r\n    \"-c, --cwd <cwd>\",\r\n    \"the working directory. defaults to the current directory.\",\r\n    process.cwd()\r\n  )\r\n  .action(async (registryFile: string, opts) => {\r\n    try {\r\n      const cwd = path.resolve(opts.cwd);\r\n      const outputDir = path.resolve(cwd, opts.output);\r\n      const registryPath = path.resolve(cwd, registryFile);\r\n\r\n      // Read and parse registry\r\n      const registryContent = await fs.readFile(registryPath, \"utf-8\");\r\n      const registry = registrySchema.parse(JSON.parse(registryContent));\r\n\r\n      // Create output directory\r\n      await fs.mkdir(outputDir, { recursive: true });\r\n\r\n      // Generate index file with all items\r\n      const index = registry.items.map((item) => ({\r\n        name: item.name,\r\n        type: item.type,\r\n      }));\r\n\r\n      await fs.writeFile(\r\n        path.join(outputDir, \"index.json\"),\r\n        JSON.stringify(index, null, 2)\r\n      );\r\n\r\n      logger.info(`✓ Generated ${index.length} items`);\r\n      logger.info(`✓ Output directory: ${outputDir}`);\r\n    } catch (error) {\r\n      if (error instanceof z.ZodError) {\r\n        logger.error(\"Invalid registry.json format\");\r\n        error.errors.forEach((err) => {\r\n          logger.error(`  ${err.path.join(\".\")}: ${err.message}`);\r\n        });\r\n      } else if (error instanceof Error) {\r\n        logger.error(error.message);\r\n      } else {\r\n        logger.error(\"Unknown error occurred\");\r\n      }\r\n      process.exit(1);\r\n    }\r\n  });\r\n","export const FRAMEWORKS = {\r\n  \"next-app\": {\r\n    name: \"next-app\",\r\n    label: \"Next.js\",\r\n    links: {\r\n      installation: \"https://ui.uidesu.com/docs/installation/next\",\r\n      tailwind: \"https://tailwindcss.com/docs/guides/nextjs\",\r\n    },\r\n  },\r\n  \"next-pages\": {\r\n    name: \"next-pages\",\r\n    label: \"Next.js\",\r\n    links: {\r\n      installation: \"https://ui.uidesu.com/docs/installation/next\",\r\n      tailwind: \"https://tailwindcss.com/docs/guides/nextjs\",\r\n    },\r\n  },\r\n  vite: {\r\n    name: \"vite\",\r\n    label: \"Vite\",\r\n    links: {\r\n      installation: \"https://ui.uidesu.com/docs/installation/vite\",\r\n      tailwind: \"https://tailwindcss.com/docs/guides/vite\",\r\n    },\r\n  },\r\n  manual: {\r\n    name: \"manual\",\r\n    label: \"Manual\",\r\n    links: {\r\n      installation: \"https://ui.uidesu.com/docs/installation/manual\",\r\n      tailwind: \"https://tailwindcss.com/docs/installation\",\r\n    },\r\n  },\r\n}\r\n\r\nexport type Framework = (typeof FRAMEWORKS)[keyof typeof FRAMEWORKS]\r\n","import { createMatchPath, type ConfigLoaderSuccessResult } from \"tsconfig-paths\"\r\n\r\nexport async function resolveImport(\r\n  importPath: string,\r\n  config: Pick<ConfigLoaderSuccessResult, \"absoluteBaseUrl\" | \"paths\">\r\n) {\r\n  return createMatchPath(config.absoluteBaseUrl, config.paths)(\r\n    importPath,\r\n    undefined,\r\n    () => true,\r\n    [\".ts\", \".tsx\", \".jsx\", \".js\", \".css\"]\r\n  )\r\n}\r\n","import { registryConfigSchema } from \"@/src/schema\"\r\nimport { z } from \"zod\"\r\n\r\nexport const REGISTRY_URL =\r\n  process.env.REGISTRY_URL ?? \"https://ui.aodesu.com/r\"\r\n\r\n// Built-in registries that are always available and cannot be overridden\r\nexport const BUILTIN_REGISTRIES: z.infer<typeof registryConfigSchema> = {\r\n  \"@shadcn\": `${REGISTRY_URL}/styles/{style}/{name}.json`,\r\n}\r\n","import path from \"path\"\r\nimport { configSchema, rawConfigSchema } from \"@/src/schema\"\r\nimport { highlighter } from \"@/src/utils/highlighter\"\r\nimport { resolveImport } from \"@/src/utils/resolve-import\"\r\nimport { cosmiconfig } from \"cosmiconfig\"\r\nimport { loadConfig } from \"tsconfig-paths\"\r\nimport { z } from \"zod\"\r\n\r\nimport { BUILTIN_REGISTRIES } from \"../registry/constants\"\r\n\r\nexport const explorer = cosmiconfig(\"uidesu\", {\r\n  searchPlaces: [\"uidesu.config.json\"],\r\n})\r\n\r\nexport type Config = z.infer<typeof configSchema>\r\n\r\nexport async function getConfig(cwd: string) {\r\n  const config = await getRawConfig(cwd)\r\n\r\n  if (!config) {\r\n    return null\r\n  }\r\n\r\n  return await resolveConfigPaths(cwd, config)\r\n}\r\n\r\nexport async function resolveConfigPaths(\r\n  cwd: string,\r\n  config: z.infer<typeof rawConfigSchema>\r\n) {\r\n  // Merge built-in registries with user registries\r\n  config.registries = {\r\n    ...BUILTIN_REGISTRIES,\r\n    ...(config.registries || {}),\r\n  }\r\n\r\n  // Read tsconfig.json.\r\n  const tsConfig = await loadConfig(cwd)\r\n  console.log(\"aki1\")\r\n  if (tsConfig.resultType === \"failed\") {\r\n    throw new Error(\r\n      `Failed to load ${config.tsx ? \"tsconfig\" : \"jsconfig\"}.json. ${\r\n        tsConfig.message ?? \"\"\r\n      }`.trim()\r\n    )\r\n  }\r\n\r\n  console.log(\"aki3\")\r\n  return configSchema.parse({\r\n    ...config,\r\n    resolvedPaths: {\r\n      cwd,\r\n      tailwindConfig: config.tailwind.config\r\n        ? path.resolve(cwd, config.tailwind.config)\r\n        : \"\",\r\n      utils: await resolveImport(config.aliases[\"utils\"], tsConfig),\r\n      components: await resolveImport(config.aliases[\"components\"], tsConfig),\r\n      ui: config.aliases[\"ui\"]\r\n        ? await resolveImport(config.aliases[\"ui\"], tsConfig)\r\n        : path.resolve(\r\n            (await resolveImport(config.aliases[\"components\"], tsConfig)) ??\r\n              cwd,\r\n            \"ui\"\r\n          ),\r\n      lib: config.aliases[\"lib\"]\r\n        ? await resolveImport(config.aliases[\"lib\"], tsConfig)\r\n        : path.resolve(\r\n            (await resolveImport(config.aliases[\"utils\"], tsConfig)) ?? cwd,\r\n            \"..\"\r\n          ),\r\n    },\r\n  })\r\n}\r\n\r\nexport async function getRawConfig(\r\n  cwd: string\r\n): Promise<z.infer<typeof rawConfigSchema> | null> {\r\n  try {\r\n    const configResult = await explorer.search(cwd)\r\n\r\n    if (!configResult) return null\r\n\r\n    const config = rawConfigSchema.parse(configResult.config)\r\n\r\n    // Check if user is trying to override built-in registries\r\n    if (config.registries) {\r\n      for (const registryName of Object.keys(config.registries)) {\r\n        if (registryName in BUILTIN_REGISTRIES) {\r\n          throw new Error(\r\n            `\"${registryName}\" is a built-in registry and cannot be overridden.`\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    return config\r\n  } catch (error) {\r\n    const configPath = `${cwd}/uidesu.config.json`\r\n    if (error instanceof Error && error.message.includes(\"reserved registry\")) {\r\n      throw error\r\n    }\r\n    throw new Error(\r\n      `Invalid configuration found in ${highlighter.info(configPath)}.`\r\n    )\r\n  }\r\n}\r\n","import path from \"path\"\r\nimport fs from \"fs-extra\"\r\nimport { type PackageJson } from \"type-fest\"\r\n\r\nexport function getPackageInfo(\r\n  cwd: string = \"\",\r\n  shouldThrow: boolean = true\r\n): PackageJson | null {\r\n  const packageJsonPath = path.join(cwd, \"package.json\")\r\n\r\n  return fs.readJSONSync(packageJsonPath, {\r\n    throws: shouldThrow,\r\n  }) as PackageJson\r\n}\r\n","import path from \"path\"\r\nimport { rawConfigSchema } from \"@/src/schema\"\r\nimport { FRAMEWORKS, Framework } from \"@/src/utils/frameworks\"\r\nimport { Config, getConfig, resolveConfigPaths } from \"@/src/utils/get-config\"\r\nimport { getPackageInfo } from \"@/src/utils/get-package-info\"\r\nimport fg from \"fast-glob\"\r\nimport fs from \"fs-extra\"\r\nimport { loadConfig } from \"tsconfig-paths\"\r\nimport { z } from \"zod\"\r\n\r\nexport type TailwindVersion = \"v3\" | \"v4\" | null\r\n\r\nexport type ProjectInfo = {\r\n  framework: Framework\r\n  isSrcDir: boolean\r\n  isTsx: boolean\r\n  tailwindConfigFile: string | null\r\n  tailwindCssFile: string | null\r\n  tailwindVersion: TailwindVersion\r\n  frameworkVersion: string | null\r\n  aliasPrefix: string | null\r\n}\r\n\r\nconst PROJECT_SHARED_IGNORE = [\r\n  \"**/node_modules/**\",\r\n  \".next\",\r\n  \"public\",\r\n  \"dist\",\r\n  \"build\",\r\n]\r\n\r\nconst TS_CONFIG_SCHEMA = z.object({\r\n  compilerOptions: z.object({\r\n    paths: z.record(z.string().or(z.array(z.string()))),\r\n  }),\r\n})\r\n\r\nexport async function getProjectInfo(cwd: string): Promise<ProjectInfo | null> {\r\n  const [\r\n    configFiles,\r\n    isSrcDir,\r\n    isTsx,\r\n    tailwindConfigFile,\r\n    tailwindCssFile,\r\n    tailwindVersion,\r\n    aliasPrefix,\r\n    packageJson,\r\n  ] = await Promise.all([\r\n    fg.glob(\r\n      \"**/{next,vite,astro,app}.config.*|gatsby-config.*|composer.json|react-router.config.*\",\r\n      {\r\n        cwd,\r\n        deep: 3,\r\n        ignore: PROJECT_SHARED_IGNORE,\r\n      }\r\n    ),\r\n    fs.pathExists(path.resolve(cwd, \"src\")),\r\n    isTypeScriptProject(cwd),\r\n    getTailwindConfigFile(cwd),\r\n    getTailwindCssFile(cwd),\r\n    getTailwindVersion(cwd),\r\n    getTsConfigAliasPrefix(cwd),\r\n    getPackageInfo(cwd, false),\r\n  ])\r\n\r\n  const isUsingAppDir = await fs.pathExists(\r\n    path.resolve(cwd, `${isSrcDir ? \"src/\" : \"\"}app`)\r\n  )\r\n\r\n  const type: ProjectInfo = {\r\n    framework: FRAMEWORKS[\"manual\"],\r\n    isSrcDir,\r\n    isTsx,\r\n    tailwindConfigFile,\r\n    tailwindCssFile,\r\n    tailwindVersion,\r\n    frameworkVersion: null,\r\n    aliasPrefix,\r\n  }\r\n\r\n  // Next.js.\r\n  if (configFiles.find((file) => file.startsWith(\"next.config.\"))?.length) {\r\n    type.framework = isUsingAppDir\r\n      ? FRAMEWORKS[\"next-app\"]\r\n      : FRAMEWORKS[\"next-pages\"]\r\n    return type\r\n  }\r\n\r\n  // Vite.\r\n  // Some Remix templates also have a vite.config.* file.\r\n  // We'll assume that it got caught by the Remix check above.\r\n  if (configFiles.find((file) => file.startsWith(\"vite.config.\"))?.length) {\r\n    type.framework = FRAMEWORKS[\"vite\"]\r\n    return type\r\n  }\r\n\r\n  return type\r\n}\r\n\r\nexport async function getTailwindVersion(\r\n  cwd: string\r\n): Promise<ProjectInfo[\"tailwindVersion\"]> {\r\n  const [packageInfo, config] = await Promise.all([\r\n    getPackageInfo(cwd, false),\r\n    getConfig(cwd),\r\n  ])\r\n\r\n  // If the config file is empty, we can assume that it's a v4 project.\r\n  if (config?.tailwind?.config === \"\") {\r\n    return \"v4\"\r\n  }\r\n\r\n  if (\r\n    !packageInfo?.dependencies?.tailwindcss &&\r\n    !packageInfo?.devDependencies?.tailwindcss\r\n  ) {\r\n    return null\r\n  }\r\n\r\n  if (\r\n    /^(?:\\^|~)?3(?:\\.\\d+)*(?:-.*)?$/.test(\r\n      packageInfo?.dependencies?.tailwindcss ||\r\n        packageInfo?.devDependencies?.tailwindcss ||\r\n        \"\"\r\n    )\r\n  ) {\r\n    return \"v3\"\r\n  }\r\n\r\n  return \"v4\"\r\n}\r\n\r\nexport async function getTailwindCssFile(cwd: string) {\r\n  const [files, tailwindVersion] = await Promise.all([\r\n    fg.glob([\"**/*.css\", \"**/*.scss\"], {\r\n      cwd,\r\n      deep: 5,\r\n      ignore: PROJECT_SHARED_IGNORE,\r\n    }),\r\n    getTailwindVersion(cwd),\r\n  ])\r\n\r\n  if (!files.length) {\r\n    return null\r\n  }\r\n\r\n  const needle =\r\n    tailwindVersion === \"v4\" ? `@import \"tailwindcss\"` : \"@tailwind base\"\r\n  for (const file of files) {\r\n    const contents = await fs.readFile(path.resolve(cwd, file), \"utf8\")\r\n    if (\r\n      contents.includes(`@import \"tailwindcss\"`) ||\r\n      contents.includes(`@import 'tailwindcss'`) ||\r\n      contents.includes(`@tailwind base`)\r\n    ) {\r\n      return file\r\n    }\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport async function getTailwindConfigFile(cwd: string) {\r\n  const files = await fg.glob(\"tailwind.config.*\", {\r\n    cwd,\r\n    deep: 3,\r\n    ignore: PROJECT_SHARED_IGNORE,\r\n  })\r\n\r\n  if (!files.length) {\r\n    return null\r\n  }\r\n\r\n  return files[0]\r\n}\r\n\r\nexport async function getTsConfigAliasPrefix(cwd: string) {\r\n  const tsConfig = await loadConfig(cwd)\r\n\r\n  if (\r\n    tsConfig?.resultType === \"failed\" ||\r\n    !Object.entries(tsConfig?.paths).length\r\n  ) {\r\n    return null\r\n  }\r\n\r\n  // This assume that the first alias is the prefix.\r\n  for (const [alias, paths] of Object.entries(tsConfig.paths)) {\r\n    if (\r\n      paths.includes(\"./*\") ||\r\n      paths.includes(\"./src/*\") ||\r\n      paths.includes(\"./app/*\") ||\r\n      paths.includes(\"./resources/js/*\") // Laravel.\r\n    ) {\r\n      return alias.replace(/\\/\\*$/, \"\") ?? null\r\n    }\r\n  }\r\n\r\n  // Use the first alias as the prefix.\r\n  return Object.keys(tsConfig?.paths)?.[0].replace(/\\/\\*$/, \"\") ?? null\r\n}\r\n\r\nexport async function isTypeScriptProject(cwd: string) {\r\n  const files = await fg.glob(\"tsconfig.*\", {\r\n    cwd,\r\n    deep: 1,\r\n    ignore: PROJECT_SHARED_IGNORE,\r\n  })\r\n\r\n  return files.length > 0\r\n}\r\n\r\nexport async function getTsConfig(cwd: string) {\r\n  for (const fallback of [\r\n    \"tsconfig.json\",\r\n    \"tsconfig.web.json\",\r\n    \"tsconfig.app.json\",\r\n  ]) {\r\n    const filePath = path.resolve(cwd, fallback)\r\n    if (!(await fs.pathExists(filePath))) {\r\n      continue\r\n    }\r\n\r\n    // We can't use fs.readJSON because it doesn't support comments.\r\n    const contents = await fs.readFile(filePath, \"utf8\")\r\n    const cleanedContents = contents.replace(/\\/\\*\\s*\\*\\//g, \"\")\r\n    const result = TS_CONFIG_SCHEMA.safeParse(JSON.parse(cleanedContents))\r\n\r\n    if (result.error) {\r\n      continue\r\n    }\r\n\r\n    return result.data\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport async function getProjectConfig(\r\n  cwd: string,\r\n  defaultProjectInfo: ProjectInfo | null = null\r\n): Promise<Config | null> {\r\n  // Check for existing uidesu.config.json file.\r\n  const [existingConfig, projectInfo] = await Promise.all([\r\n    getConfig(cwd),\r\n    !defaultProjectInfo\r\n      ? getProjectInfo(cwd)\r\n      : Promise.resolve(defaultProjectInfo),\r\n  ])\r\n\r\n  if (existingConfig) {\r\n    return existingConfig\r\n  }\r\n\r\n  if (\r\n    !projectInfo ||\r\n    !projectInfo.tailwindCssFile ||\r\n    (projectInfo.tailwindVersion === \"v3\" && !projectInfo.tailwindConfigFile)\r\n  ) {\r\n    return null\r\n  }\r\n\r\n  const config: z.infer<typeof rawConfigSchema> = {\r\n    $schema: \"https://ui.aodesu.com/schema.json\",\r\n    tsx: projectInfo.isTsx,\r\n    style: \"aodesu\",\r\n    tailwind: {\r\n      config: projectInfo.tailwindConfigFile ?? \"\",\r\n      theme: \"classic\",\r\n      css: projectInfo.tailwindCssFile,\r\n      cssVariables: true,\r\n      prefix: \"\",\r\n    },\r\n    aliases: {\r\n      components: `${projectInfo.aliasPrefix}/components`,\r\n      ui: `${projectInfo.aliasPrefix}/components/ui`,\r\n      lib: `${projectInfo.aliasPrefix}/lib`,\r\n      utils: `${projectInfo.aliasPrefix}/lib/utils`,\r\n    },\r\n  }\r\n\r\n  console.log(\"test\")\r\n  console.log(await resolveConfigPaths(cwd, config))\r\n  return await resolveConfigPaths(cwd, config)\r\n}\r\n","import ora, { type Options } from \"ora\"\r\n\r\nexport function spinner(\r\n  text: Options[\"text\"],\r\n  options?: {\r\n    silent?: boolean\r\n  }\r\n) {\r\n  return ora({\r\n    text,\r\n    isSilent: options?.silent,\r\n  })\r\n}\r\n","import path from \"path\"\r\nimport { initOptionsSchema } from \"@/src/commands/init\"\r\nimport * as ERRORS from \"@/src/utils/errors\"\r\nimport { getProjectInfo } from \"@/src/utils/get-project-info\"\r\nimport { highlighter } from \"@/src/utils/highlighter\"\r\nimport { logger } from \"@/src/utils/logger\"\r\nimport { spinner } from \"@/src/utils/spinner\"\r\nimport fs from \"fs-extra\"\r\nimport { z } from \"zod\"\r\n\r\nexport async function preflightInit(\r\n  options: z.infer<typeof initOptionsSchema>\r\n) {\r\n  const errors: Record<string, boolean> = {}\r\n\r\n  if (\r\n    !fs.existsSync(options.cwd) ||\r\n    !fs.existsSync(path.resolve(options.cwd, \"package.json\"))\r\n  ) {\r\n    errors[ERRORS.MISSING_DIR_OR_EMPTY_PROJECT] = true\r\n    return {\r\n      errors,\r\n      projectInfo: null,\r\n    }\r\n  }\r\n\r\n  const projectSpinner = spinner(\"Preflight checks.\").start()\r\n\r\n  if (fs.existsSync(path.resolve(options.cwd, \"uidesu.config.json\"))) {\r\n    projectSpinner?.fail()\r\n    logger.break()\r\n    logger.error(\r\n      `A ${highlighter.info(\r\n        \"uidesu.config.json\"\r\n      )} file already exists at ${highlighter.info(\r\n        options.cwd\r\n      )}.\\nTo start over, remove the ${highlighter.info(\r\n        \"uidesu.config.json\"\r\n      )} file and run ${highlighter.info(\"uidesu init\")} again.`\r\n    )\r\n    logger.break()\r\n    process.exit(1)\r\n  }\r\n\r\n  projectSpinner?.succeed()\r\n\r\n  const frameworkSpinner = spinner(\"Verifying framework.\").start()\r\n  const projectInfo = await getProjectInfo(options.cwd)\r\n  if (!projectInfo || projectInfo?.framework.name === \"manual\") {\r\n    errors[ERRORS.UNSUPPORTED_FRAMEWORK] = true\r\n    frameworkSpinner?.fail()\r\n    logger.break()\r\n\r\n    if (projectInfo?.framework.links.installation) {\r\n      logger.error(\r\n        `We could not detect a supported framework at ${highlighter.info(\r\n          options.cwd\r\n        )}.\\n` +\r\n          `Visit ${highlighter.info(\r\n            projectInfo?.framework.links.installation\r\n          )} to manually configure your project.\\nOnce configured, you can use the cli to add components.`\r\n      )\r\n    }\r\n    logger.break()\r\n    process.exit(1)\r\n  }\r\n  frameworkSpinner?.succeed(\r\n    `Verifying framework. Found ${highlighter.info(\r\n      projectInfo.framework.label\r\n    )}.`\r\n  )\r\n\r\n  return {\r\n    errors,\r\n    projectInfo,\r\n  }\r\n}\r\n","export async function fetchRegistry(\r\n  paths: string[],\r\n  options: { useCache?: boolean } = {}\r\n) {\r\n  options = {\r\n    useCache: true,\r\n    ...options,\r\n  }\r\n\r\n  try {\r\n    const results = await Promise.all(paths.map(async (path) => {}))\r\n\r\n    return results\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n","import { fetchRegistry } from \"@/src/registry/fetcher\"\r\nimport { stylesSchema } from \"@/src/schema\"\r\nimport { logger } from \"@/src/utils/logger\"\r\n\r\nexport async function getRegistryStyles() {\r\n  try {\r\n    const [result] = await fetchRegistry([\"styles/index.json\"])\r\n\r\n    return stylesSchema.parse(result)\r\n  } catch (error) {\r\n    logger.error(\"\\n\")\r\n  }\r\n}\r\n\r\nexport async function getRegistryThemes() {\r\n  try {\r\n    const [result] = await fetchRegistry([\"themes/index.json\"])\r\n\r\n    return stylesSchema.parse(result)\r\n  } catch (error) {\r\n    logger.error(\"\\n\")\r\n  }\r\n}\r\n","import { detect } from \"@antfu/ni\"\r\n\r\nexport async function getPackageManager(\r\n  targetDir: string,\r\n  { withFallback }: { withFallback?: boolean } = {\r\n    withFallback: false,\r\n  }\r\n): Promise<\"yarn\" | \"pnpm\" | \"bun\" | \"npm\" | \"deno\"> {\r\n  const packageManager = await detect({ programmatic: true, cwd: targetDir })\r\n\r\n  if (packageManager === \"yarn@berry\") return \"yarn\"\r\n  if (packageManager === \"pnpm@6\") return \"pnpm\"\r\n  if (packageManager === \"bun\") return \"bun\"\r\n  if (packageManager === \"deno\") return \"deno\"\r\n  if (!withFallback) {\r\n    return packageManager ?? \"npm\"\r\n  }\r\n\r\n  // Fallback to user agent if not detected.\r\n  const userAgent = process.env.npm_config_user_agent || \"\"\r\n\r\n  if (userAgent.startsWith(\"yarn\")) {\r\n    return \"yarn\"\r\n  }\r\n\r\n  if (userAgent.startsWith(\"pnpm\")) {\r\n    return \"pnpm\"\r\n  }\r\n\r\n  if (userAgent.startsWith(\"bun\")) {\r\n    return \"bun\"\r\n  }\r\n\r\n  return \"npm\"\r\n}\r\n\r\nexport async function getPackageRunner(cwd: string) {\r\n  const packageManager = await getPackageManager(cwd)\r\n\r\n  if (packageManager === \"pnpm\") return \"pnpm dlx\"\r\n\r\n  if (packageManager === \"bun\") return \"bunx\"\r\n\r\n  return \"npx\"\r\n}\r\n","import os from \"os\"\r\nimport path from \"path\"\r\nimport { execa } from \"execa\"\r\nimport fs from \"fs-extra\"\r\n\r\nimport { spinner } from \"../utils/spinner\"\r\n\r\nconst GITHUB_TEMPLATE_URL =\r\n  \"https://codeload.github.com/shadcn-ui/ui/tar.gz/main\"\r\n\r\nexport default async function createViteProject(\r\n  projectPath: string,\r\n  options: {\r\n    packageManager: string\r\n  }\r\n) {\r\n  const createSpinner = spinner(\r\n    `Creating a new Vite project. This may take a few minutes.`\r\n  ).start()\r\n\r\n  try {\r\n    // Get the template.\r\n    const templatePath = path.join(os.tmpdir(), `shadcn-template-${Date.now()}`)\r\n    await fs.ensureDir(templatePath)\r\n    const response = await fetch(GITHUB_TEMPLATE_URL)\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to download template: ${response.statusText}`)\r\n    }\r\n\r\n    // Write the tar file.\r\n    const tarPath = path.resolve(templatePath, \"template.tar.gz\")\r\n    await fs.writeFile(tarPath, Buffer.from(await response.arrayBuffer()))\r\n    await execa(\"tar\", [\r\n      \"-xzf\",\r\n      tarPath,\r\n      \"-C\",\r\n      templatePath,\r\n      \"--strip-components=2\",\r\n      \"ui-main/templates/vite-app\",\r\n    ])\r\n    const extractedPath = path.resolve(templatePath, \"vite-app\")\r\n    await fs.move(extractedPath, projectPath)\r\n    await fs.remove(templatePath)\r\n\r\n    // Remove pnpm-lock.yaml if using a different package manager.\r\n    if (options.packageManager !== \"pnpm\") {\r\n      const lockFilePath = path.join(projectPath, \"pnpm-lock.yaml\")\r\n      if (fs.existsSync(lockFilePath)) {\r\n        await fs.remove(lockFilePath)\r\n      }\r\n    }\r\n\r\n    // Run install.\r\n    await execa(options.packageManager, [\"install\"], {\r\n      cwd: projectPath,\r\n    })\r\n\r\n    // Write project name to the package.json.\r\n    const packageJsonPath = path.join(projectPath, \"package.json\")\r\n    if (fs.existsSync(packageJsonPath)) {\r\n      const packageJsonContent = await fs.readFile(packageJsonPath, \"utf8\")\r\n      const packageJson = JSON.parse(packageJsonContent)\r\n      packageJson.name = projectPath.split(\"/\").pop()\r\n      await fs.writeFile(packageJsonPath, JSON.stringify(packageJson, null, 2))\r\n    }\r\n\r\n    // Try git init.\r\n    await execa(\"git\", [\"--version\"], { cwd: projectPath })\r\n    await execa(\"git\", [\"init\"], { cwd: projectPath })\r\n    await execa(\"git\", [\"add\", \"-A\"], { cwd: projectPath })\r\n    await execa(\"git\", [\"commit\", \"-m\", \"Initial commit\"], {\r\n      cwd: projectPath,\r\n    })\r\n\r\n    createSpinner?.succeed(\"Creating a new Vite project.\")\r\n  } catch (error) {\r\n    createSpinner?.fail(\"Something went wrong creating a new Vite project.\")\r\n  }\r\n}\r\n","import path from \"path\"\r\nimport { initOptionsSchema } from \"@/src/commands/init\"\r\nimport { getPackageManager } from \"@/src/utils/get-package-manager\"\r\nimport { highlighter } from \"@/src/utils/highlighter\"\r\nimport fs from \"fs-extra\"\r\nimport prompts from \"prompts\"\r\nimport { z } from \"zod\"\r\n\r\nimport createViteProject from \"../templates/create-vite-project\"\r\nimport { logger } from \"./logger\"\r\n\r\nexport const TEMPLATES = {\r\n  next: \"next\",\r\n  \"next-monorepo\": \"next-monorepo\",\r\n  vite: \"vite\",\r\n  start: \"start\",\r\n} as const\r\n\r\nexport async function createProject(\r\n  options: Pick<z.infer<typeof initOptionsSchema>, \"cwd\" | \"srcDir\" | \"name\">\r\n) {\r\n  options = {\r\n    srcDir: false,\r\n    ...options,\r\n  }\r\n\r\n  let template: keyof typeof TEMPLATES = \"vite\"\r\n  let projectName: string = \"my-app\"\r\n\r\n  const { type, name } = await prompts([\r\n    {\r\n      type: \"select\",\r\n      name: \"type\",\r\n      message: `The path ${highlighter.info(\r\n        options.cwd\r\n      )} does not contain a package.json file.\\n   Would you like to start a new vite project?`,\r\n      choices: [\r\n        { title: \"Yes, create a new vite project\", value: \"vite\" },\r\n        { title: \"No, exit and create a project manually\", value: \"exit\" },\r\n      ],\r\n      initial: 0,\r\n    },\r\n    {\r\n      type: options.name ? null : \"text\",\r\n      name: \"name\",\r\n      message: \"What is your project named?\",\r\n      initial: projectName,\r\n      format: (value: string) => value.trim(),\r\n      validate: (value: string) =>\r\n        value.length > 128 ? \"Name should be less than 128 characters.\" : true,\r\n    },\r\n  ])\r\n\r\n  template = type ?? template\r\n  projectName = name ?? projectName\r\n\r\n  const packageManager = await getPackageManager(options.cwd, {\r\n    withFallback: true,\r\n  })\r\n  const projectPath = `${options.cwd}/${projectName}`\r\n\r\n  // Check if path is writable.\r\n  try {\r\n    await fs.access(options.cwd, fs.constants.W_OK)\r\n  } catch (error) {\r\n    logger.break()\r\n    logger.error(`The path ${highlighter.info(options.cwd)} is not writable.`)\r\n    logger.error(\r\n      `It is likely you don't have permissions for this folder or the paths ${highlighter.info(\r\n        options.cwd\r\n      )} does not exist.`\r\n    )\r\n    logger.break()\r\n    process.exit(1)\r\n  }\r\n\r\n  if (fs.existsSync(path.resolve(options.cwd, projectName, \"package.json\"))) {\r\n    logger.break()\r\n    logger.error(\r\n      `A project with the name ${highlighter.info(projectName)} already exists.`\r\n    )\r\n    logger.error(`Please choose a different name and try again.`)\r\n    logger.break()\r\n    process.exit(1)\r\n  }\r\n\r\n  await createViteProject(projectPath, {\r\n    packageManager,\r\n  })\r\n\r\n  return {\r\n    projectPath,\r\n    projectName,\r\n    template,\r\n  }\r\n}\r\n","import { existsSync } from \"fs\";\r\nimport { join } from \"path\";\r\nimport { logger } from \"./logger\";\r\n\r\nexport async function loadEnvFiles(cwd: string = process.cwd()): Promise<void> {\r\n  try {\r\n    const { config } = await import(\"@dotenvx/dotenvx\");\r\n    const envFiles = [\r\n      \".env.local\",\r\n      \".env.development.local\",\r\n      \".env.development\",\r\n      \".env\",\r\n    ]\r\n\r\n    for (const envFile of envFiles) {\r\n      const envPath = join(cwd, envFile);\r\n      if (existsSync(envPath)) {\r\n        config({\r\n          path: envPath,\r\n          overload: false,\r\n          quiet: true\r\n        });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    logger.warn(\"Failed to load env files:\", error);\r\n  }\r\n}\r\n","import path from \"path\"\r\nimport { preflightInit } from \"@/src/preflights/preflight-init\"\r\nimport { getRegistryStyles, getRegistryThemes } from \"@/src/registry/api\"\r\nimport { rawConfigSchema } from \"@/src/schema\"\r\nimport { createProject } from \"@/src/utils/create-project\"\r\nimport { loadEnvFiles } from \"@/src/utils/env-loader\"\r\nimport * as ERRORS from \"@/src/utils/errors\"\r\nimport { Config, getConfig, resolveConfigPaths } from \"@/src/utils/get-config\"\r\nimport { getProjectConfig, getProjectInfo } from \"@/src/utils/get-project-info\"\r\nimport { logger } from \"@/src/utils/logger\"\r\nimport { Command } from \"commander\"\r\nimport prompts from \"prompts\"\r\nimport { z } from \"zod\"\r\n\r\nimport { highlighter } from \"../utils/highlighter\"\r\n\r\nprocess.on(\"exit\", (code) => {\r\n  const filePath = path.resolve(process.cwd(), \"uidesu.config.json\")\r\n\r\n  if (code === 0) {\r\n    logger.info(`✓ uidesu initialized successfully!`)\r\n  }\r\n  logger.info(`Configuration file created at:\\n${filePath}`)\r\n})\r\n\r\nexport const initOptionsSchema = z.object({\r\n  cwd: z.string(),\r\n  name: z.string().optional(),\r\n  yes: z.boolean(),\r\n  srcDir: z.boolean().optional(),\r\n})\r\n\r\nexport const init = new Command()\r\n  .name(\"init\")\r\n  .description(\"initialize a uidesu in your project.\")\r\n  .option(\"-y, --yes\", \"skip prompts and use default values\", false)\r\n  .option(\r\n    \"-c, --cwd <cwd>\",\r\n    \"the working directory. defaults to the current directory.\",\r\n    process.cwd()\r\n  )\r\n  .option(\r\n    \"--src-dir\",\r\n    \"use the src directory when creating a new project.\",\r\n    false\r\n  )\r\n  .action(async (opts) => {\r\n    try {\r\n      const options = initOptionsSchema.parse({\r\n        cwd: path.resolve(opts.cwd),\r\n        ...opts,\r\n      })\r\n\r\n      await loadEnvFiles(options.cwd)\r\n\r\n      await runInit(options)\r\n\r\n      logger.success(`Initialized uidesu in directory: ${opts.cwd}`)\r\n      logger.break()\r\n    } catch (error) {\r\n      logger.break()\r\n    }\r\n  })\r\n\r\nexport async function runInit(\r\n  options: z.infer<typeof initOptionsSchema> & {\r\n    skipPreflight?: boolean\r\n  }\r\n) {\r\n  let projectInfo\r\n  let newProjectTemplate\r\n  const preflight = await preflightInit(options)\r\n  if (preflight.errors[ERRORS.MISSING_DIR_OR_EMPTY_PROJECT]) {\r\n    const { projectPath, template } = await createProject(options)\r\n    if (!projectPath) {\r\n      process.exit(1)\r\n    }\r\n    options.cwd = projectPath\r\n    newProjectTemplate = template\r\n    // Re-get project info for the newly created project.\r\n    projectInfo = await getProjectInfo(options.cwd)\r\n  } else {\r\n    projectInfo = preflight.projectInfo\r\n  }\r\n\r\n  const projectConfig = await getProjectConfig(options.cwd, projectInfo)\r\n\r\n  console.log(projectConfig)\r\n\r\n  let config = projectConfig\r\n    ? await promptForMinimalConfig(projectConfig, options)\r\n    : await promptForConfig(await getConfig(options.cwd))\r\n\r\n  if (!options.yes) {\r\n    const { proceed } = await prompts({\r\n      type: \"confirm\",\r\n      name: \"proceed\",\r\n      message: `Write configuration to ${highlighter.info(\r\n        \"uidesu.config.json\"\r\n      )}. Proceed?`,\r\n      initial: true,\r\n    })\r\n\r\n    if (!proceed) {\r\n      process.exit(0)\r\n    }\r\n  }\r\n\r\n  const fullConfigForRegistry = await resolveConfigPaths(options.cwd, config)\r\n}\r\n\r\nasync function promptForConfig(defaultConfig: Config | null = null) {\r\n  const [styles, themes] = await Promise.all([\r\n    getRegistryStyles(),\r\n    getRegistryThemes(),\r\n  ])\r\n\r\n  logger.info(\"\")\r\n  const options = await prompts([\r\n    {\r\n      type: \"toggle\",\r\n      name: \"typescript\",\r\n      message: `Would you like to use ${highlighter.info(\r\n        \"TypeScript\"\r\n      )} (recommended)?`,\r\n      initial: defaultConfig?.tsx ?? true,\r\n      active: \"yes\",\r\n      inactive: \"no\",\r\n    },\r\n  ])\r\n\r\n  return rawConfigSchema.parse({\r\n    $schema: \"https://ui.aodesu.com/schema.json\",\r\n    tsx: options.typescript,\r\n  })\r\n}\r\n\r\nasync function promptForMinimalConfig(\r\n  defaultConfig: Config,\r\n  opts: z.infer<typeof initOptionsSchema>\r\n) {\r\n  let style = defaultConfig.style\r\n  let theme = defaultConfig.tailwind.theme\r\n  let cssVariables = defaultConfig.tailwind.cssVariables\r\n\r\n  return rawConfigSchema.parse({\r\n    $schema: defaultConfig?.$schema,\r\n    style,\r\n    tailwind: {\r\n      ...defaultConfig?.tailwind,\r\n      theme,\r\n      cssVariables,\r\n    },\r\n    tsx: defaultConfig?.tsx,\r\n    aliases: defaultConfig?.aliases,\r\n  })\r\n}\r\n","#!/usr/bin/env node\r\nimport { Command } from \"commander\";\r\nimport packageJson from \"../package.json\";\r\n// import { add } from \"./commands/add\";\r\nimport { build } from \"./commands/build\";\r\nimport { init } from \"./commands/init\";\r\n\r\nprocess.on(\"SIGNINT\", () => process.exit(0));\r\nprocess.on(\"SIGTERM\", () => process.exit(0));\r\n\r\nasync function main() {\r\n  const program = new Command()\r\n    .name(\"uidesu\")\r\n    .description(\"add items from registry to your project\")\r\n    .version(\r\n      packageJson.version || \"1.0.0\",\r\n      \"-v, --version\",\r\n      \"display the version number\"\r\n    )\r\n\r\n  program\r\n    .addCommand(init)\r\n    //.addCommand(add)\r\n    .addCommand(build)\r\n\r\n  program.parse()\r\n}\r\n\r\nmain()\r\n\r\n// export * from './registry/api';\r\n"]}