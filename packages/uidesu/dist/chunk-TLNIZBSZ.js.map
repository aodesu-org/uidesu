{"version":3,"sources":["../src/registry/schema.ts"],"names":["registryItemTypeSchema","z","registryItemTailwindSchema","registryItemCssVarsSchema","cssValueSchema","registryItemCssSchema","registryItemEnvVarsSchema","registryItemSchema","registrySchema","registryIndexSchema","registryResolvedItemsTreeSchema","registryConfigItemSchema","s","registryConfigSchema","key","rawConfigSchema","configSchema","workspaceConfigSchema"],"mappings":"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","file":"chunk-TLNIZBSZ.js","sourcesContent":["import { z } from \"zod\"\r\n\r\nexport const registryItemTypeSchema = z.enum([\r\n  \"registry:lib\",\r\n  \"registry:ui\",\r\n  \"registry:style\",\r\n  \"registry:example\",\r\n  \"registry:internal\",\r\n])\r\n\r\nexport const registryItemTailwindSchema = z.object({\r\n  config: z\r\n    .object({\r\n      content: z.array(z.string()).optional(),\r\n      theme: z.record(z.string(), z.any()).optional(),\r\n      plugins: z.array(z.string()).optional(),\r\n    })\r\n    .optional(),\r\n})\r\n\r\nexport const registryItemCssVarsSchema = z.object({\r\n  theme: z.record(z.string(), z.string()).optional(),\r\n  light: z.record(z.string(), z.string()).optional(),\r\n  dark: z.record(z.string(), z.string()).optional(),\r\n})\r\n\r\n// Recursive type for CSS properties that supports empty objects at any level.\r\nconst cssValueSchema: z.ZodType<any> = z.lazy(() =>\r\n  z.union([z.string(), z.record(z.string(), cssValueSchema)])\r\n)\r\n\r\nexport const registryItemCssSchema = z.record(z.string(), cssValueSchema)\r\n\r\nexport const registryItemEnvVarsSchema = z.record(z.string(), z.string())\r\n\r\nexport const registryItemSchema = z.object({\r\n  name: z.string(),\r\n  type: registryItemTypeSchema,\r\n  title: z.string().optional(),\r\n  author: z.string().min(2).optional(),\r\n  description: z.string().optional(),\r\n  dependencies: z.array(z.string()).optional(),\r\n  devDependencies: z.array(z.string()).optional(),\r\n  registryDependencies: z.array(z.string()).optional(),\r\n  tailwind: registryItemTailwindSchema.optional(),\r\n  cssVars: registryItemCssVarsSchema.optional(),\r\n  css: registryItemCssSchema.optional(),\r\n})\r\n\r\nexport type RegistryItem = z.infer<typeof registryItemSchema>\r\n\r\nexport const registrySchema = z.object({\r\n  name: z.string(),\r\n  homepage: z.string(),\r\n  items: z.array(registryItemSchema),\r\n})\r\n\r\nexport type Registry = z.infer<typeof registrySchema>\r\n\r\nexport const registryIndexSchema = z.array(registryItemSchema)\r\n\r\nexport const registryResolvedItemsTreeSchema = registryItemSchema.pick({\r\n  dependencies: true,\r\n  devDependencies: true,\r\n  tailwind: true,\r\n  cssVars: true,\r\n  css: true,\r\n})\r\n\r\nexport const registryConfigItemSchema = z.union([\r\n  // Simple string format: \"https://example.com/{name}.json\"\r\n  z.string().refine((s) => s.includes(\"{name}\"), {\r\n    message: \"Registry URL must include {name} placeholder\",\r\n  }),\r\n  // Advanced object format with auth options\r\n  z.object({\r\n    url: z.string().refine((s) => s.includes(\"{name}\"), {\r\n      message: \"Registry URL must include {name} placeholder\",\r\n    }),\r\n    params: z.record(z.string(), z.string()).optional(),\r\n    headers: z.record(z.string(), z.string()).optional(),\r\n  }),\r\n])\r\n\r\nexport const registryConfigSchema = z.record(\r\n  z.string().refine((key) => key.startsWith(\"@\"), {\r\n    message: \"Registry names must start with @ (e.g., @v0, @acme)\",\r\n  }),\r\n  registryConfigItemSchema\r\n)\r\n\r\nexport const rawConfigSchema = z\r\n  .object({\r\n    $schema: z.string().optional(),\r\n    style: z.string(),\r\n    tailwind: z.object({\r\n      config: z.string().optional(),\r\n      css: z.string(),\r\n      baseColor: z.string(),\r\n      cssVariables: z.boolean().default(true),\r\n      prefix: z.string().default(\"\").optional(),\r\n    }),\r\n    aliases: z.object({\r\n      components: z.string(),\r\n      utils: z.string(),\r\n      ui: z.string().optional(),\r\n      lib: z.string().optional(),\r\n    }),\r\n  })\r\n  .strict()\r\n\r\nexport const configSchema = rawConfigSchema.extend({\r\n  resolvedPaths: z.object({\r\n    cwd: z.string(),\r\n    tailwindConfig: z.string(),\r\n    tailwindCss: z.string(),\r\n    utils: z.string(),\r\n    components: z.string(),\r\n    lib: z.string(),\r\n    ui: z.string(),\r\n  }),\r\n})\r\n\r\n// TODO: type the key.\r\n// Okay for now since I don't want a breaking change.\r\nexport const workspaceConfigSchema = z.record(configSchema)\r\n"]}